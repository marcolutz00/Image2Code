<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Update your user macros on Confluence 5.5.1 and atlassian-xwork-core-1.17</title>
<style>
body {
    font-family: sans-serif;
    margin: 0;
    background-color: #333333;
    color: #ffffff;
    line-height: 1.6;
}

.container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

header {
    background-color: #90EE90;
    padding: 20px;
    color: #333;
}

header h1 {
    margin-bottom: 0;
    font-size: 2em;
    color: #333;
}

header p {
    font-size: 1.2em;
    margin-top: 0.2em;
    color: #333;
}

nav {
    margin-top: 10px;
    text-align: right;
    color: #333;
}

nav a {
    margin-left: 10px;
    text-decoration: none;
    color: #333;
}

section {
    padding: 20px;
}

.post-meta {
    font-size: 0.9em;
    color: #aaa;
    margin-bottom: 20px;
}

a {
    color: #90EE90;
}

.social-icons {
    text-align: center;
    margin-top: 30px;
}

.social-icons a {
    display: inline-block;
    margin: 0 10px;
    text-decoration: none;
    color: #90EE90;
    font-size: 1.5em;
}
</style>
</head>
<body>
<header>
    <div class="container">
        <h1>David Simpson</h1>
        <p>deliver, iterate.</p>
        <nav>
            <a href="#">Blog</a>
            <a href="#">About</a>
            <a href="#">Projects</a>
            <a href="#">Apps</a>
        </nav>
    </div>
</header>
<section>
    <div class="container">
        <h1 style="color: #90EE90; font-size: 2em;">Update your user macros on Confluence<br> 5.5.1 and atlassian-xwork-core-1.17</h1>
        <div class="post-meta">
            Posted by David Simpson on May 22, 2014. Return to index .<br>
            Tags:
        </div>
        <p>Following yesterdays Atlassian security advisory for Confluence, it looks like there are<br>
        some added steps required for people who have user macros. Be careful folks.</p>
        <p><a href="#">@BergerofLondon</a> spotted this first:</p>
        <p>Following upgrade to Confluence 5.5.1 the values of parameters<br>
        in user macros cannot be evaluated the same way. Discovered<br>
        this the hard way</p>
        <p>— Berger (<a href="#">@BergerofLondon</a>) <span style="color: #90EE90;">May 22, 2014</span></p>
        <p>You can't use the same shorthand you use for standard variables.<br>
        <span style="font-style: italic;">#if ($paramistrue)</span> will always evaluate as true.</p>
        <p>— Berger (<a href="#">@BergerofLondon</a>) <span style="color: #90EE90;">May 22, 2014</span></p>
        <p>You now have to use things like <span style="font-style: italic;">#if ($paramistrue == true)</span> or <span style="font-style: italic;">#if<br>
        ($paramistrue == false).</span></p>
        <p>— Berger (<a href="#">@BergerofLondon</a>) <span style="color: #90EE90;">May 22, 2014</span></p>
        <p><a href="#">@baitman</a> For strings I can no longer do <span style="font-style: italic;">#if ($paramfoo)</span>, I have<br>
        to do <span style="font-style: italic;">#if ($paramfoo).length() > 0</span>. Which is crazy.</p>
        <p>— Berger (<a href="#">@BergerofLondon</a>) <span style="color: #90EE90;">May 22, 2014</span></p>
        <p><a href="#">@baitman</a> Also, if you're upgrading to 5.5.1 to fix the security<br>
        vulnerability double-check that it's upgraded xwork to 1.17. Ours<br>
        wasn't.</p>
        <p>— Berger (<a href="#">@BergerofLondon</a>) <span style="color: #90EE90;">May 22, 2014</span></p>
        <p>The update to <span style="font-weight: bold;">atlassian-xwork-core-1.17.jar</span> means you have to be more specific with<br>
        your coding. Thanks to <a href="#">@BergerofLondon</a> for the heads up.</p>
    </div>
</section>
<footer>
    <div class="container">
        <div class="social-icons">
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
            <a href="#"></a>
        </div>
    </div>
</footer>
</body>
</html>