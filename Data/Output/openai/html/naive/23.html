<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Poor man’s hot reloading for Swift scripts | Alexito’s World</title>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      background: #2a2725;
      color: #ccc;
      font-family: 'Inter', Arial, sans-serif;
      font-size: 18px;
      box-sizing: border-box;
    }

    body {
      min-height: 100%;
      margin: 0;
      width: 100%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    a {
      color: #ffa02a;
      text-decoration: none;
      transition: color 0.15s;
    }
    a:hover {
      color: #ffd285;
    }

    .container {
      width: 640px;
      margin: 0 auto 0 auto;
      box-sizing: border-box;
      flex: 1 0 auto;
    }
    /* Header */
    .header {
      margin-top: 0;
      padding-top: 36px;
      text-align: center;
    }
    .blog-title {
      font-family: 'Special Elite', monospace;
      color: #fff;
      font-size: 2.2rem;
      font-weight: bold;
      margin-bottom: 0px;
      letter-spacing: 0.2px;
    }
    .subtitle {
      font-size: 1.08rem;
      margin-top: 5px;
      color: #fff;
      font-weight: bold;
      margin-bottom: 30px;
      line-height: 1.4;
    }
    .subtitle code {
      background: none;
      font-size: 1.05em;
      font-family: Consolas, Monaco, 'Andale Mono', monospace;
    }
    .header-nav {
      margin-top: 12px;
      margin-bottom: 12px;
      font-size: 1.08rem;
      color: #fff;
      display: flex;
      gap: 18px;
      justify-content: center;
      align-items: center;
      font-weight: 500;
      letter-spacing: 0.2px;
    }
    .header-nav .pipe {
      color: #ffffffcc;
      font-size: 1.2em;
      margin: 0 6px;
    }

    /* Meta */
    .meta-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      margin-top: 34px;
      margin-bottom: 18px;
      font-size: 1rem;
      color: #cecece;
    }

    .meta-row .date {
      color: #cecece;
    }

    .meta-row .meta-right {
      display: flex;
      align-items: center;
      font-size: 0.93em;
      color: #e9e9ee;
    }

    .meta-row .meta-right img {
      margin-right: 5px;
      vertical-align: middle;
      width: 15px;
      height: 15px;
      border-radius: 50%;
      background: #4171b9;
      box-sizing: border-box;
      display: inline-block;
    }
    .meta-row .meta-right .time {
      margin-left: 2px;
      font-size: 1em;
    }
    .meta-row .meta-right .read {
      margin-left: 2px;
      color: #aaa;
      font-size: 1em;
    }
    .thin-line {
      width: 100%;
      border: none;
      height: 3px;
      background: #f7931a;
      margin-bottom: 29px;
      margin-top: 1px;
      border-radius: 1.5px;
      display: block;
      padding: 0;
    }

    /* Tag Buttons */
    .tags {
      margin-top: 0px;
      margin-bottom: 14px;
    }
    .tag-btn {
      display: inline-block;
      background: #181818;
      color: #fff;
      font-size: 1em;
      border-radius: 6px;
      padding: 8px 15px 7px 15px;
      letter-spacing: 0.05em;
      margin-right: 9px;
      margin-bottom: 3px;
      font-family: 'Inter', Arial, sans-serif;
      font-weight: 500;
      vertical-align: middle;
    }
    .tag-btn:last-child {
      margin-right: 0;
    }

    /* Article Title */
    .title {
      color: #ededed;
      font-size: 2rem;
      font-weight: 500;
      margin: 0 0 18px 0;
      line-height: 1.25;
    }

    /* Article Body */
    .article-body {
      font-size: 1.13rem;
      color: #bbb;
      line-height: 1.61;
      margin-bottom: 35px;
    }
    .article-body p {
      margin: 0 0 18px 0;
    }
    .article-body strong {
      font-weight: bold;
      color: #eee;
    }
    .article-body code, .highlight {
      font-family: Consolas, 'Liberation Mono', Menlo, monospace;
      background: #36333a;
      color: #fff;
      padding: 3px 7px;
      border-radius: 5px;
      font-size: 1em;
      font-weight: bold;
      letter-spacing: 0.04em;
      margin: 0 1px;
      vertical-align: 1px;
      border: none;
    }
    .article-body .tag-in-body {
      background: #181818;
      color: #fff;
      font-family: inherit;
      padding: 2.5px 13px;
      border-radius: 6px;
      margin: 0 0.5px;
      font-size: 0.99em;
      font-weight: 500;
      letter-spacing: 0.02em;
      border: none;
    }
    .article-body .highlight.ns {
      background: #8a4288;
      color: #fff;
      padding: 2.5px 11px;
    }
    .article-body .highlight.yellow {
      background: #36333a;
      color: #f7931a;
    }
    .article-body .highlight-pink {
      background: #8a4288;
      color: #fff;
      padding: 2.5px 11px;
      border-radius: 5px;
      font-family: Consolas, 'Liberation Mono', Menlo, monospace;
      border: none;
    }
    .article-body .code-block {
      display: block;
      background: #36333a;
      color: #fff;
      font-family: Consolas, 'Liberation Mono', Menlo, monospace;
      padding: 16px 17px 16px 17px;
      border-radius: 8px;
      font-size: 1.02em;
      margin: 20px 0 18px 0;
      white-space: pre-wrap;
      line-height: 1.54;
    }

    .article-body .inline-link {
      color: #ffa02a;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.15s;
    }
    .article-body .inline-link:hover {
      color: #ffd285;
    }

    /* Twitter Share */
    .share-twitter {
      color: #fd971a;
      font-size: 1.07em;
      font-weight: 500;
      margin-top: 33px;
      margin-bottom: 35px;
    }

    /* Support / CTA */
    .support {
      background: #181818;
      border-radius: 14px;
      padding: 30px 0 30px 0;
      margin-bottom: 40px;
      margin-top: 0;
      text-align: center;
      color: #d0d0d099;
      font-size: 1.08em;
      font-weight: 400;
    }
    .support-cta {
      margin-top: 17px;
      margin-bottom: 0px;
    }
    .cta-button {
      background: #fd971a;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1.18em;
      font-family: 'Special Elite', cursive;
      font-weight: 400;
      padding: 11px 33px 12px 33px;
      cursor: pointer;
      box-shadow: 0 3px 11px rgba(253,151,26,0.12);
      transition: background 0.18s, color 0.18s;
      margin: 0 auto;
      display: inline-block;
    }

    /* Separator */
    .thin-line2 {
      width: 100%;
      border: none;
      height: 3px;
      background: #f7931a;
      margin-top: 46px;
      margin-bottom: 18px;
      border-radius: 1.5px;
      display: block;
      padding: 0;
    }

    /* Continue Reading */
    .continue-title {
      color: #ededed;
      font-size: 1.55rem;
      font-weight: 500;
      margin-bottom: 13px;
      margin-top: 0;
    }
    .continue-row {
      display: flex;
      justify-content: space-between;
      gap: 18px;
      margin-bottom: 30px;
    }
    .continue-card {
      background: #181818;
      border-radius: 12px;
      padding: 26px 28px 21px 28px;
      width: 49.1%;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      min-height: 127px;
    }
    .continue-small {
      color: #b5b5b5;
      font-size: 0.97em;
      letter-spacing: 0.02em;
      margin-bottom: 11px;
    }
    .continue-main {
      font-size: 1.19em;
      color: #f7931a;
      margin-bottom: 26px;
      font-weight: 500;
      line-height: 1.23;
    }
    .continue-date {
      color: #b5b5b5;
      font-size: 1em;
      margin-top: auto;
      font-weight: 400;
    }
    .continue-card.prev .continue-main {
      color: #ffa02a;
      text-align: right;
    }
    .continue-card.prev {
      text-align: right;
    }

    /* Similar Articles */
    .suggested-title {
      color: #ededed;
      font-size: 1.30rem;
      font-weight: 500;
      margin-top: 8px;
      margin-bottom: 17px;
      letter-spacing: 0;
    }
    .suggested-row {
      display: flex;
      gap: 15px;
      margin-bottom: 40px;
      justify-content: start;
    }
    .suggested-card {
      background: #181818;
      border-radius: 12px;
      padding: 21px 23px 17px 23px;
      width: 205px;
      box-sizing: border-box;
      min-height: 109px;
      display: flex;
      flex-direction: column;
    }
    .suggested-meta {
      color: #cecece;
      font-size: 0.96em;
      margin-bottom: 8px;
    }
    .suggested-main {
      color: #ffa02a;
      font-size: 1.05em;
      font-weight: 500;
      margin-bottom: 17px;
      line-height: 1.2;
    }
    .suggested-date {
      color: #b5b5b5;
      font-size: 0.99em;
      margin-top: auto;
      font-weight: 400;
    }

    /* Related Tags */
    .tags-row {
      margin-top: 0;
      margin-bottom: 60px;
    }
    .tags-call {
      margin-bottom: 13px;
      color: #ededed;
      font-size: 1.13rem;
      font-weight: 500;
    }
    .tag-btn2 {
      display: inline-block;
      background: #181818;
      color: #fff;
      font-size: 1em;
      border-radius: 6px;
      padding: 8px 15px 7px 15px;
      letter-spacing: 0.05em;
      margin-right: 9px;
      margin-bottom: 3px;
      font-family: 'Inter', Arial, sans-serif;
      font-weight: 500;
      vertical-align: middle;
    }

    /* Footer */
    .footer {
      width: 100vw;
      background: transparent;
      margin-top: auto;
      text-align: center;
      padding-bottom: 45px;
      font-size: 1em;
    }
    .footer-line {
      width: 100%;
      border: none;
      height: 3px;
      background: #f7931a;
      margin-top: 37px;
      margin-bottom: 25px;
      border-radius: 1.5px;
      display: block;
      padding: 0;
    }
    .footer .footer-nav {
      margin: 0 auto 7px auto;
      text-align: center;
      color: #ffa02a;
      font-weight: 500;
      font-size: 1em;
    }
    .footer .footer-nav a {
      color: #ffa02a;
      margin-right: 7px;
      margin-left: 7px;
    }
    .footer .footer-nav a:last-child {
      margin-right: 0;
    }
    .footer .footer-bottom {
      color: #ededed;
      font-size: 0.97em;
      margin-top: 8px;
      margin-bottom: 5px;
    }
    .footer .footer-misc {
      color: #585858;
      font-size: 0.89em;
      margin-top: 13px;
      font-style: italic;
      font-family: 'Special Elite', cursive;
      opacity: 0.18;
      letter-spacing: 2px;
      user-select: none;
    }

    /* Mobile adjust */
    @media (max-width: 750px) {
      .container {
        width: 97vw;
        min-width: 0;
      }
      .continue-row, .suggested-row {
        flex-direction: column;
        gap: 18px;
      }
      .continue-card, .suggested-card {
        width: 100%;
        min-width: 0 !important;
        max-width: 100vw;
      }
    }
    @media (max-width: 430px) {
      .blog-title {
        font-size: 1.3rem;
      }
      .container {
        font-size: 0.95em;
      }
      .footer .footer-bottom {
        font-size: 0.94em;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <div class="blog-title">Alexito’s World</div>
    <div class="subtitle">A world of coding <code>💻</code>, by Alejandro Martinez</div>
    <div class="header-nav">
      <span class="pipe">|</span>
      <span>Swift</span>
      <span class="pipe">|</span>
      <span>Development</span>
      <span class="pipe">|</span>
    </div>
  </div>

  <div class="meta-row">
    <div class="date">June 5, 2016</div>
    <div class="meta-right">
      <img src="src/placeholder.jpg" width="15" height="15" alt="">
      <span class="time">1</span>
      <span style="font-size: 0.99em;">min</span>
      <span class="read" style="font-size:0.98em;">read</span>
    </div>
  </div>

  <hr class="thin-line">

  <div class="tags">
    <span class="tag-btn">Scripting</span>
    <span class="tag-btn">Swift</span>
    <span class="tag-btn">Tips and Tricks</span>
  </div>

  <div class="title">Poor man’s hot reloading for Swift scripts</div>
  <div class="article-body">
    <p>
      The other day, while I was writing a <span style="color:#ffa02a;font-weight:500;">Swift script</span>, I added an option to make it run continuously so it could be on a server doing its job without stoping. <i>For eva.</i>
    </p>
    <p>
      To implement that I just used a 
      <span class="highlight yellow">repeat</span>
      loop creating 
      <span class="highlight-pink">NSTask</span>
      s that called the same script.<br><i style="color:#adadad;font-size:0.99em;letter-spacing:0.05em;">Scripts recursion.</i>
    </p>
    <p>
      The funny part is that with this simple thing I found a quick way to writing the script, almost as a hot reloading tool.
    </p>
    <pre class="code-block">let reload = "reload" if Process.arguments.contains(reload) { repeat { let task = NSTask()
task.launchPath = Process.arguments.first! task.arguments =
Array(Process.arguments.suffixFrom(1).filter({$0 != reload})) task.launch() task.waitUntilExit() } while
true } Just drop this snippet at the top of the script, and when you call it with the <span class="highlight yellow">reload</span> argument it will start looping indefinitely.
</pre>
    <p>
      Then you can just call it from the command line like:
    </p>
    <pre class="code-block">main.swift reload other params When that is done you can just modify the script and save the file, in the next execution your changes will be visible. If it fails to compile is not a big deal, the main script is still in memory without those changes so it will just loop and try to run it again.
</pre>
    <p>
      Obviously is not a big deal, is a bit annoying seeing all the console spammed, but I found it quite useful while I’m developing short scripts that I want to iterate on.
    </p>
    <p>
      Remember that you can use <a href="#" class="inline-link">OS signals</a> to stop the task when the main script is killed.
    </p>
  </div>

  <div class="share-twitter">Share this article on Twitter</div>

  <div class="support">
    <div>If you liked this article please consider supporting me</div>
    <div class="support-cta">
      <button class="cta-button">Buy me a coffee</button>
    </div>
  </div>

  <hr class="thin-line2">

  <div class="continue-title">Continue reading</div>
  <div class="continue-row">
    <div class="continue-card">
      <div class="continue-small">Next article</div>
      <div class="continue-main">Using closures to simplify</div>
      <div class="continue-date">June 7, 2016</div>
    </div>
    <div class="continue-card prev">
      <div class="continue-small">Previous article</div>
      <div class="continue-main">It’s a trap! Catch OS signals in Swift.</div>
      <div class="continue-date">May 29, 2016</div>
    </div>
  </div>
  
  <div class="suggested-title">Similar suggested articles</div>
  <div class="suggested-row">
    <div class="suggested-card">
      <div class="suggested-meta">Based on tag <span style="color:#ffa02a;">Swift</span></div>
      <div class="suggested-main">Backport SwiftUI modifiers</div>
      <div class="suggested-date">October 20, 2023</div>
    </div>
    <div class="suggested-card">
      <div class="suggested-meta">Based on tag <span style="color:#fd971a;">Scripting</span></div>
      <div class="suggested-main">Swift script to export lists from Reminders.app</div>
      <div class="suggested-date">May 8, 2019</div>
    </div>
    <div class="suggested-card">
      <div class="suggested-meta">Based on tag <span style="color:#fd971a;">Tips and Tricks</span></div>
      <div class="suggested-main">Swift Collection's prefix for quick tests</div>
      <div class="suggested-date">March 16, 2019</div>
    </div>
  </div>
  
  <div class="tags-row">
    <div class="tags-call">Or check out this article tags</div>
    <span class="tag-btn2">Scripting</span>
    <span class="tag-btn2">Swift</span>
    <span class="tag-btn2">Tips and Tricks</span>
  </div>
</div>

<div class="footer">
  <hr class="footer-line">
  <div class="footer-nav">
    <a href="#">RSS</a> |
    <a href="#">alexito4</a> |
    <a href="#">alexito4</a> |
    <a href="#">alexito4</a>
  </div>
  <div class="footer-bottom">Generated using <span style="color:#ffa02a;">Publish</span></div>
  <div class="footer-misc">Buka pitilu</div>
</div>
</body>
</html>